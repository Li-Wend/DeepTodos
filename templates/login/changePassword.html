<!DOCTYPE html>
<html lang="zh-CN">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeepTodo - 更改密码</title>
    <link rel="stylesheet"
        href="{{ url_for('static', filename='css/font-awesome/fontawesome-free-6.4.0-web/css/all.min.css') }}">    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/changePassword.css') }}">
</head>


<body onload="getUsername()">
   <!-- 背景形状 -->
    <div class="bg-shapes">
        <div class="shape-1"></div>
        <div class="shape-2"></div>
        <div class="shape-3"></div>
    </div>
    
    <div class="changePassword-container">
        <div class="header">
            <i class="fas fa-lock"></i>
            <h2>更改密码</h2>
            <p class="subtitle">请设置一个新的安全密码</p>
        </div>
        
        <form id="changePasswordForm">
            <div class="input-group">
                <label for="username"><i class="fas fa-user"></i> 用户名</label>
                <input type="text" id="username" placeholder="您的用户名" disabled>
            </div>
            
            <div class="input-group">
                <label for="oldPassword"><i class="fas fa-key"></i> 当前密码</label>
                <input type="password" id="oldPassword" placeholder="请输入当前密码" required>
                <span class="password-toggle" id="toggleOldPassword">
                    <i class="fas fa-eye"></i>
                </span>
            </div>
            
            <div class="input-group">
                <label for="newPassword"><i class="fas fa-lock"></i> 新密码</label>
                <input type="password" id="newPassword" placeholder="创建新的安全密码" required>
                <span class="password-toggle" id="toggleNewPassword">
                    <i class="fas fa-eye"></i>
                </span>
                
                <div class="password-strength">
                    <div class="strength-meter" id="strengthMeter"></div>
                </div>
                <div class="strength-text" id="strengthText">密码强度: 弱</div>
                
                <div class="password-requirements">
                    <h4><i class="fas fa-shield-alt"></i> 密码要求</h4>
                    <ul>
                        <li><i class="fas fa-check-circle"></i> 至少8个字符</li>
                        <li><i class="fas fa-check-circle"></i> 包含大写和小写字母</li>
                        <li><i class="fas fa-check-circle"></i> 包含至少一个数字</li>
                        <li><i class="fas fa-check-circle"></i> 包含特殊字符</li>
                    </ul>
                </div>
            </div>
            
            <div class="input-group">
                <label for="repassword"><i class="fas fa-check-double"></i> 确认新密码</label>
                <input type="password" id="repassword" placeholder="再次输入新密码" required>
                <span class="password-toggle" id="toggleRepassword">
                    <i class="fas fa-eye"></i>
                </span>
            </div>
            
            <div class="btn-group">
                <button type="submit">
                    <i class="fas fa-sync-alt"></i> 更新密码
                </button>
                <button type="button" class="back-btn" onclick="window.history.back()">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
        </form>
        
        <div id="message"></div>
    </div>

    <script src="static/js/changePassword.js"></script>
</body>